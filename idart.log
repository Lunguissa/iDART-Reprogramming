24-07-2015 21:36:59 [main] INFO  dart.start.PharmacyApplication - Starting Initialisation Tasks
24-07-2015 21:36:59 [main] WARN  ate.util.JDBCExceptionReporter - SQL Error: 0, SQLState: 08001
24-07-2015 21:36:59 [main] ERROR ate.util.JDBCExceptionReporter - The connection attempt failed.
24-07-2015 21:36:59 [main] ERROR dart.start.PharmacyApplication - Hibernate error during startup tasks.
org.hibernate.exception.JDBCConnectionException: Cannot open connection
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:74)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:29)
	at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:426)
	at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:144)
	at org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:119)
	at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:57)
	at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1326)
	at org.celllife.idart.start.PharmacyApplication.setPatientAttributes(PharmacyApplication.java:373)
	at org.celllife.idart.start.PharmacyApplication.doInitialisationTasks(PharmacyApplication.java:328)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:92)
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:110)
	at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:423)
	... 7 more
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 17 more
24-07-2015 21:36:59 [main] DEBUG celllife.idart.gui.login.Login - Login Form Created
24-07-2015 21:37:10 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:37:10 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:37:10 [main] INFO  dart.start.PharmacyApplication - iDART @IDART.VERSION.SHORT@ starting
24-07-2015 21:37:10 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:37:10 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:37:10 [main] INFO  .commonobjects.iDartProperties - Loading Encrypted System Properties
24-07-2015 21:37:10 [main] WARN  .commonobjects.iDartProperties - Property: localeLanguage is null
24-07-2015 21:37:10 [main] INFO  ommonobjects.PropertiesManager - Loading properties for interface org.celllife.idart.commonobjects.SmsProperties
24-07-2015 21:37:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:10 [main] ERROR dart.start.PharmacyApplication - Error while checking database consistency: 
org.celllife.idart.database.DatabaseException: Error retreiving list of tables.
	at org.celllife.idart.database.DatabaseTools.getTables(DatabaseTools.java:219)
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:77)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:116)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
24-07-2015 21:37:11 [main] DEBUG llife.idart.gui.login.LoginErr - Login Form Created
24-07-2015 21:37:15 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:37:15 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:37:15 [main] INFO  dart.start.PharmacyApplication - iDART @IDART.VERSION.SHORT@ starting
24-07-2015 21:37:15 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:37:15 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:37:15 [main] INFO  .commonobjects.iDartProperties - Loading Encrypted System Properties
24-07-2015 21:37:16 [main] WARN  .commonobjects.iDartProperties - Property: localeLanguage is null
24-07-2015 21:37:16 [main] INFO  ommonobjects.PropertiesManager - Loading properties for interface org.celllife.idart.commonobjects.SmsProperties
24-07-2015 21:37:16 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:16 [main] ERROR e.idart.database.DatabaseTools - Error creating hibernate connection.
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:185)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.currentSession(JDBCUtil.java:94)
	at org.celllife.idart.database.DatabaseTools.checkConnection(DatabaseTools.java:64)
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:74)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:116)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 13 more
24-07-2015 21:37:19 [main] DEBUG llife.idart.gui.login.LoginErr - Login Form Created
24-07-2015 21:37:38 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:37:38 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:37:38 [main] INFO  dart.start.PharmacyApplication - iDART @IDART.VERSION.SHORT@ starting
24-07-2015 21:37:38 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:37:38 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:37:38 [main] INFO  .commonobjects.iDartProperties - Loading Encrypted System Properties
24-07-2015 21:37:38 [main] WARN  .commonobjects.iDartProperties - Property: localeLanguage is null
24-07-2015 21:37:38 [main] INFO  ommonobjects.PropertiesManager - Loading properties for interface org.celllife.idart.commonobjects.SmsProperties
24-07-2015 21:37:38 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:38 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:38 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:38 [main] ERROR dart.start.PharmacyApplication - Error while checking database consistency: 
org.celllife.idart.database.DatabaseException: Error retreiving list of tables.
	at org.celllife.idart.database.DatabaseTools.getTables(DatabaseTools.java:219)
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:77)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:116)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
24-07-2015 21:37:38 [main] DEBUG llife.idart.gui.login.LoginErr - Login Form Created
24-07-2015 21:37:48 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:37:48 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:37:48 [main] INFO  dart.start.PharmacyApplication - iDART @IDART.VERSION.SHORT@ starting
24-07-2015 21:37:48 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:37:48 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:37:48 [main] INFO  .commonobjects.iDartProperties - Loading Encrypted System Properties
24-07-2015 21:37:48 [main] WARN  .commonobjects.iDartProperties - Property: localeLanguage is null
24-07-2015 21:37:48 [main] INFO  ommonobjects.PropertiesManager - Loading properties for interface org.celllife.idart.commonobjects.SmsProperties
24-07-2015 21:37:49 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:49 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:49 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:49 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:49 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:49 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:49 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:49 [main] INFO  e.idart.database.DatabaseTools - Running liquibase file: org/celllife/idart/database/changelog-master.xml
24-07-2015 21:37:50 [main] INFO                       liquibase - Successfully released change log lock
24-07-2015 21:37:50 [main] INFO                       liquibase - Successfully acquired change log lock
24-07-2015 21:37:50 [main] INFO                       liquibase - Reading from databasechangelog
24-07-2015 21:37:50 [main] INFO                       liquibase - Reading from databasechangelog
24-07-2015 21:37:50 [main] INFO                       liquibase - Successfully released change log lock
24-07-2015 21:37:50 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:50 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:37:52 [main] INFO  dart.start.PharmacyApplication - Starting Initialisation Tasks
24-07-2015 21:37:52 [main] WARN  ate.util.JDBCExceptionReporter - SQL Error: 0, SQLState: 08001
24-07-2015 21:37:52 [main] ERROR ate.util.JDBCExceptionReporter - The connection attempt failed.
24-07-2015 21:37:52 [main] ERROR dart.start.PharmacyApplication - Hibernate error during startup tasks.
org.hibernate.exception.JDBCConnectionException: Cannot open connection
	at org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:74)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:43)
	at org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:29)
	at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:426)
	at org.hibernate.jdbc.ConnectionManager.getConnection(ConnectionManager.java:144)
	at org.hibernate.jdbc.JDBCContext.connection(JDBCContext.java:119)
	at org.hibernate.transaction.JDBCTransaction.begin(JDBCTransaction.java:57)
	at org.hibernate.impl.SessionImpl.beginTransaction(SessionImpl.java:1326)
	at org.celllife.idart.start.PharmacyApplication.setPatientAttributes(PharmacyApplication.java:373)
	at org.celllife.idart.start.PharmacyApplication.doInitialisationTasks(PharmacyApplication.java:328)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:92)
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:110)
	at org.hibernate.jdbc.ConnectionManager.openConnection(ConnectionManager.java:423)
	... 7 more
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 17 more
24-07-2015 21:37:52 [main] DEBUG celllife.idart.gui.login.Login - Login Form Created
24-07-2015 21:38:09 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:38:09 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:38:09 [main] INFO  dart.start.PharmacyApplication - iDART @IDART.VERSION.SHORT@ starting
24-07-2015 21:38:09 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:38:09 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:38:09 [main] INFO  .commonobjects.iDartProperties - Loading Encrypted System Properties
24-07-2015 21:38:09 [main] WARN  .commonobjects.iDartProperties - Property: localeLanguage is null
24-07-2015 21:38:09 [main] INFO  ommonobjects.PropertiesManager - Loading properties for interface org.celllife.idart.commonobjects.SmsProperties
24-07-2015 21:38:09 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:10 [main] ERROR tabase.hibernate.util.JDBCUtil - Error while running sql: select id from users
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:185)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.currentSession(JDBCUtil.java:94)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.executeSQL(JDBCUtil.java:125)
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:82)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:116)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 13 more
24-07-2015 21:38:10 [main] ERROR dart.start.PharmacyApplication - Error while checking database consistency: 
org.celllife.idart.database.DatabaseException: Error retreiving user list.
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:85)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:116)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
Caused by: org.celllife.idart.database.hibernate.util.DAOException: Error while running sql: select id from users . Message: The connection attempt failed.
	at org.celllife.idart.database.hibernate.util.JDBCUtil.executeSQL(JDBCUtil.java:151)
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:82)
	... 2 more
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:185)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.currentSession(JDBCUtil.java:94)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.executeSQL(JDBCUtil.java:125)
	... 3 more
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 13 more
24-07-2015 21:38:10 [main] DEBUG llife.idart.gui.login.LoginErr - Login Form Created
24-07-2015 21:38:17 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:38:17 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:38:17 [main] INFO  dart.start.PharmacyApplication - iDART @IDART.VERSION.SHORT@ starting
24-07-2015 21:38:17 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:38:17 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:38:17 [main] INFO  .commonobjects.iDartProperties - Loading Encrypted System Properties
24-07-2015 21:38:17 [main] WARN  .commonobjects.iDartProperties - Property: localeLanguage is null
24-07-2015 21:38:17 [main] INFO  ommonobjects.PropertiesManager - Loading properties for interface org.celllife.idart.commonobjects.SmsProperties
24-07-2015 21:38:17 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:17 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:17 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:17 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:17 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:17 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:17 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:18 [main] INFO  e.idart.database.DatabaseTools - Running liquibase file: org/celllife/idart/database/changelog-master.xml
24-07-2015 21:38:18 [main] INFO                       liquibase - Successfully released change log lock
24-07-2015 21:38:18 [main] INFO                       liquibase - Successfully acquired change log lock
24-07-2015 21:38:18 [main] INFO                       liquibase - Reading from databasechangelog
24-07-2015 21:38:18 [main] INFO                       liquibase - Reading from databasechangelog
24-07-2015 21:38:19 [main] INFO                       liquibase - Successfully released change log lock
24-07-2015 21:38:19 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:19 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:38:19 [main] WARN  .hibernate.cfg.SettingsFactory - Could not obtain connection metadata
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:154)
	at org.hibernate.connection.DriverManagerConnectionProvider.getConnection(DriverManagerConnectionProvider.java:110)
	at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:84)
	at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2009)
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1292)
	at org.hibernate.cfg.AnnotationConfiguration.buildSessionFactory(AnnotationConfiguration.java:915)
	at org.celllife.idart.database.hibernate.util.HibernateUtil.<init>(HibernateUtil.java:185)
	at org.celllife.idart.database.hibernate.util.HibernateUtil.rebuildUtil(HibernateUtil.java:201)
	at org.celllife.idart.database.hibernate.util.HibernateUtil.setValidation(HibernateUtil.java:227)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:147)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 18 more
24-07-2015 21:38:20 [main] INFO  dart.start.PharmacyApplication - Starting Initialisation Tasks
24-07-2015 21:38:21 [main] DEBUG   model.manager.PatientManager - Found attribute type similar to ARV Start Date: ARV Start Date
24-07-2015 21:38:21 [main] DEBUG .manager.AdministrationManager - model.nonPersistent.PharmacyDetails@1b0d33cDemo Pharmacist, B.Pharm Demo Pharmacist2, B.Pharm Street Address City Tel Facility Name
24-07-2015 21:38:21 [main] INFO  dart.start.PharmacyApplication - Finishing Initialisation Tasks
24-07-2015 21:38:21 [main] DEBUG celllife.idart.gui.login.Login - Login Form Created
24-07-2015 21:38:25 [main] INFO  celllife.idart.gui.login.Login - Login successful for user admin
24-07-2015 21:38:25 [main] INFO  celllife.idart.misc.LoginTimer - Starting new logout timer with timeout 600 seconds.
24-07-2015 21:38:25 [main] DEBUG art.gui.welcome.GenericWelcome - Creating newWelcome
24-07-2015 21:38:25 [main] ERROR art.gui.welcome.GenericWelcome - Unable to load help.
24-07-2015 21:38:32 [main] INFO  .gui.generalAdmin.GeneralAdmin - GeneralAdmin: Initializing the GUI
24-07-2015 21:38:38 [main] WARN  dart.misc.PatientBarcodeParser - Could not match patientId using regular expression.
24-07-2015 21:38:57 [main] INFO  e.idart.gui.patient.AddPatient - Tab validation failed - Numero de GAAC nao e valida
24-07-2015 21:39:09 [main] INFO  e.idart.gui.patient.AddPatient - Tab validation failed - Numero de GAAC nao e valida
24-07-2015 21:39:29 [main] INFO  e.idart.gui.patient.AddPatient - Tab validation failed - Numero de GAAC nao e valida
24-07-2015 21:39:34 [main] INFO  e.idart.gui.patient.AddPatient - Tab validation failed - Numero de GAAC nao e valida
24-07-2015 21:39:39 [main] INFO  e.idart.gui.patient.AddPatient - Tab validation failed - Numero de GAAC nao e valida
24-07-2015 21:39:44 [main] INFO  e.idart.gui.patient.AddPatient - Tab validation failed - Numero de GAAC nao e valida
24-07-2015 21:39:54 [main] INFO  e.idart.gui.patient.AddPatient - Tab validation failed - Numero de GAAC nao e valida
24-07-2015 21:39:59 [main] INFO  e.idart.gui.patient.AddPatient - Tab validation failed - Numero de GAAC nao e valida
24-07-2015 21:40:05 [main] INFO  e.idart.gui.patient.AddPatient - Tab validation failed - Numero de GAAC nao e valida
24-07-2015 21:40:10 [main] INFO  e.idart.gui.patient.AddPatient - Tab validation failed - Data de teste nao e valida
24-07-2015 21:40:43 [main] ERROR dart.start.PharmacyApplication - iDART CRASH: - Fatal Error caused by Exception:
java.lang.NumberFormatException: For input string: "Not applicable"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
	at java.lang.Integer.parseInt(Integer.java:449)
	at java.lang.Integer.parseInt(Integer.java:499)
	at org.celllife.idart.gui.patient.tabs.ViralLoadTab.addLastViralLoad(ViralLoadTab.java:65)
	at org.celllife.idart.gui.patient.tabs.ViralLoadTab.submit(ViralLoadTab.java:477)
	at org.celllife.idart.gui.patient.AddPatient.submitForm(AddPatient.java:1304)
	at org.celllife.idart.gui.patient.AddPatient.doSave(AddPatient.java:2241)
	at org.celllife.idart.gui.patient.AddPatient.cmdUpdatePrescriptionWidgetSelected(AddPatient.java:1460)
	at org.celllife.idart.gui.patient.AddPatient.access$19(AddPatient.java:1457)
	at org.celllife.idart.gui.patient.AddPatient$18.widgetSelected(AddPatient.java:1999)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)
	at org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)
	at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)
	at org.celllife.idart.gui.welcome.GenericWelcome.showGUI(GenericWelcome.java:133)
	at org.celllife.idart.gui.welcome.GenericWelcome.<init>(GenericWelcome.java:105)
	at org.celllife.idart.gui.welcome.PharmacyWelcome.<init>(PharmacyWelcome.java:28)
	at org.celllife.idart.start.PharmacyApplication.runIDART(PharmacyApplication.java:184)
	at org.celllife.idart.start.PharmacyApplication.launch(PharmacyApplication.java:111)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:93)
24-07-2015 21:40:54 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:40:54 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:40:54 [main] INFO  dart.start.PharmacyApplication - iDART @IDART.VERSION.SHORT@ starting
24-07-2015 21:40:54 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:40:54 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:40:55 [main] INFO  .commonobjects.iDartProperties - Loading Encrypted System Properties
24-07-2015 21:40:55 [main] WARN  .commonobjects.iDartProperties - Property: localeLanguage is null
24-07-2015 21:40:55 [main] INFO  ommonobjects.PropertiesManager - Loading properties for interface org.celllife.idart.commonobjects.SmsProperties
24-07-2015 21:40:55 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:40:55 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:40:55 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:40:55 [main] ERROR dart.start.PharmacyApplication - Error while checking database consistency: 
org.celllife.idart.database.DatabaseException: Error retreiving list of tables.
	at org.celllife.idart.database.DatabaseTools.getTables(DatabaseTools.java:219)
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:77)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:116)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
24-07-2015 21:40:55 [main] DEBUG llife.idart.gui.login.LoginErr - Login Form Created
24-07-2015 21:41:00 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:41:00 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:41:00 [main] INFO  dart.start.PharmacyApplication - iDART @IDART.VERSION.SHORT@ starting
24-07-2015 21:41:00 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:41:00 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:41:00 [main] INFO  .commonobjects.iDartProperties - Loading Encrypted System Properties
24-07-2015 21:41:00 [main] WARN  .commonobjects.iDartProperties - Property: localeLanguage is null
24-07-2015 21:41:00 [main] INFO  ommonobjects.PropertiesManager - Loading properties for interface org.celllife.idart.commonobjects.SmsProperties
24-07-2015 21:41:00 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:00 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:00 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:00 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:00 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:00 [main] ERROR tabase.hibernate.util.JDBCUtil - Error while running sql: select id from users
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:185)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.currentSession(JDBCUtil.java:94)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.executeSQL(JDBCUtil.java:125)
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:82)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:116)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 13 more
24-07-2015 21:41:00 [main] ERROR dart.start.PharmacyApplication - Error while checking database consistency: 
org.celllife.idart.database.DatabaseException: Error retreiving user list.
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:85)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:116)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
Caused by: org.celllife.idart.database.hibernate.util.DAOException: Error while running sql: select id from users . Message: The connection attempt failed.
	at org.celllife.idart.database.hibernate.util.JDBCUtil.executeSQL(JDBCUtil.java:151)
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:82)
	... 2 more
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:185)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.currentSession(JDBCUtil.java:94)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.executeSQL(JDBCUtil.java:125)
	... 3 more
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 13 more
24-07-2015 21:41:00 [main] DEBUG llife.idart.gui.login.LoginErr - Login Form Created
24-07-2015 21:41:04 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:41:04 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:41:04 [main] INFO  dart.start.PharmacyApplication - iDART @IDART.VERSION.SHORT@ starting
24-07-2015 21:41:04 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:41:04 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:41:05 [main] INFO  .commonobjects.iDartProperties - Loading Encrypted System Properties
24-07-2015 21:41:05 [main] WARN  .commonobjects.iDartProperties - Property: localeLanguage is null
24-07-2015 21:41:05 [main] INFO  ommonobjects.PropertiesManager - Loading properties for interface org.celllife.idart.commonobjects.SmsProperties
24-07-2015 21:41:05 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:05 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:05 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:05 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:05 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:05 [main] ERROR tabase.hibernate.util.JDBCUtil - Error while running sql: select id from users
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:185)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.currentSession(JDBCUtil.java:94)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.executeSQL(JDBCUtil.java:125)
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:82)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:116)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 13 more
24-07-2015 21:41:05 [main] ERROR dart.start.PharmacyApplication - Error while checking database consistency: 
org.celllife.idart.database.DatabaseException: Error retreiving user list.
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:85)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:116)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
Caused by: org.celllife.idart.database.hibernate.util.DAOException: Error while running sql: select id from users . Message: The connection attempt failed.
	at org.celllife.idart.database.hibernate.util.JDBCUtil.executeSQL(JDBCUtil.java:151)
	at org.celllife.idart.database.DatabaseTools.checkDatabase(DatabaseTools.java:82)
	... 2 more
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:185)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.currentSession(JDBCUtil.java:94)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.executeSQL(JDBCUtil.java:125)
	... 3 more
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 13 more
24-07-2015 21:41:05 [main] DEBUG llife.idart.gui.login.LoginErr - Login Form Created
24-07-2015 21:41:09 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:41:09 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:41:09 [main] INFO  dart.start.PharmacyApplication - iDART @IDART.VERSION.SHORT@ starting
24-07-2015 21:41:09 [main] INFO  dart.start.PharmacyApplication - *********************
24-07-2015 21:41:09 [main] INFO  dart.start.PharmacyApplication - 
24-07-2015 21:41:10 [main] INFO  .commonobjects.iDartProperties - Loading Encrypted System Properties
24-07-2015 21:41:10 [main] WARN  .commonobjects.iDartProperties - Property: localeLanguage is null
24-07-2015 21:41:10 [main] INFO  ommonobjects.PropertiesManager - Loading properties for interface org.celllife.idart.commonobjects.SmsProperties
24-07-2015 21:41:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:10 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:11 [main] INFO  e.idart.database.DatabaseTools - Running liquibase file: org/celllife/idart/database/changelog-master.xml
24-07-2015 21:41:11 [main] INFO                       liquibase - Successfully released change log lock
24-07-2015 21:41:11 [main] INFO                       liquibase - Successfully acquired change log lock
24-07-2015 21:41:11 [main] INFO                       liquibase - Reading from databasechangelog
24-07-2015 21:41:11 [main] INFO                       liquibase - Reading from databasechangelog
24-07-2015 21:41:12 [main] INFO                       liquibase - Successfully released change log lock
24-07-2015 21:41:12 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:12 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:12 [main] ERROR e.idart.database.DatabaseTools - Error getting national clinic count
org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:137)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:66)
	at org.postgresql.jdbc2.AbstractJdbc2Connection.<init>(AbstractJdbc2Connection.java:124)
	at org.postgresql.jdbc3.AbstractJdbc3Connection.<init>(AbstractJdbc3Connection.java:30)
	at org.postgresql.jdbc3.Jdbc3Connection.<init>(Jdbc3Connection.java:24)
	at org.postgresql.Driver.makeConnection(Driver.java:386)
	at org.postgresql.Driver.connect(Driver.java:260)
	at java.sql.DriverManager.getConnection(DriverManager.java:582)
	at java.sql.DriverManager.getConnection(DriverManager.java:185)
	at org.celllife.idart.database.hibernate.util.JDBCUtil.currentSession(JDBCUtil.java:94)
	at org.celllife.idart.database.DatabaseTools.getNationalClinicCount(DatabaseTools.java:292)
	at org.celllife.idart.database.DatabaseTools.checkClinicCount(DatabaseTools.java:283)
	at org.celllife.idart.database.DatabaseTools.update(DatabaseTools.java:267)
	at org.celllife.idart.start.PharmacyApplication.performStartupChecks(PharmacyApplication.java:133)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:91)
Caused by: java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:168)
	at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)
	at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)
	at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)
	at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)
	at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:254)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:95)
	... 14 more
24-07-2015 21:41:12 [main] INFO  tabase.hibernate.util.JDBCUtil - Opening JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:12 [main] INFO  e.idart.database.DatabaseTools - Running liquibase file: org/celllife/idart/database/changelog-South_Africa_clinics.xml
24-07-2015 21:41:12 [main] INFO                       liquibase - Successfully released change log lock
24-07-2015 21:41:12 [main] INFO                       liquibase - Successfully acquired change log lock
24-07-2015 21:41:12 [main] INFO                       liquibase - Reading from databasechangelog
24-07-2015 21:41:12 [main] INFO                       liquibase - Reading from databasechangelog
24-07-2015 21:41:20 [main] INFO                       liquibase - Successfully released change log lock
24-07-2015 21:41:20 [main] INFO  tabase.hibernate.util.JDBCUtil - Closing JDBC connection to jdbc:postgresql://localhost:5432/pharm
24-07-2015 21:41:21 [main] INFO  dart.start.PharmacyApplication - Starting Initialisation Tasks
24-07-2015 21:41:22 [main] DEBUG   model.manager.PatientManager - Found attribute type similar to ARV Start Date: ARV Start Date
24-07-2015 21:41:22 [main] DEBUG .manager.AdministrationManager - model.nonPersistent.PharmacyDetails@4d93e3Demo Pharmacist, B.Pharm Demo Pharmacist2, B.Pharm Street Address City Tel Facility Name
24-07-2015 21:41:22 [main] INFO  dart.start.PharmacyApplication - Finishing Initialisation Tasks
24-07-2015 21:41:22 [main] DEBUG celllife.idart.gui.login.Login - Login Form Created
24-07-2015 21:41:28 [main] INFO  celllife.idart.gui.login.Login - Login successful for user admin
24-07-2015 21:41:28 [main] INFO  celllife.idart.misc.LoginTimer - Starting new logout timer with timeout 600 seconds.
24-07-2015 21:41:28 [main] DEBUG art.gui.welcome.GenericWelcome - Creating newWelcome
24-07-2015 21:41:28 [main] ERROR art.gui.welcome.GenericWelcome - Unable to load help.
24-07-2015 21:41:32 [main] INFO  .gui.generalAdmin.GeneralAdmin - GeneralAdmin: Initializing the GUI
24-07-2015 21:41:39 [main] WARN  dart.misc.PatientBarcodeParser - Could not match patientId using regular expression.
24-07-2015 21:42:14 [main] INFO  .gui.generalAdmin.GeneralAdmin - GeneralAdmin: Initializing the GUI
24-07-2015 21:42:20 [main] WARN  dart.misc.PatientBarcodeParser - Could not match patientId using regular expression.
24-07-2015 21:42:32 [main] WARN  dart.misc.PatientBarcodeParser - Could not match patientId using regular expression.
24-07-2015 21:42:38 [main] WARN  dart.misc.PatientBarcodeParser - Could not match patientId using regular expression.
24-07-2015 21:42:49 [main] WARN  dart.misc.PatientBarcodeParser - Could not match patientId using regular expression.
24-07-2015 21:43:55 [main] INFO  i.prescription.AddPrescription - Saved Prescription for Patient: 1
24-07-2015 21:43:57 [main] INFO  t.gui.composite.PillCountTable - Creating PillCountTable
24-07-2015 21:44:04 [main] INFO  .packaging.NewPatientPackaging - getSelectedWeekSupply() called
24-07-2015 21:44:04 [main] INFO      model.manager.StockManager - Calculating StockLevel for stock 23
24-07-2015 21:44:05 [main] INFO  .packaging.NewPatientPackaging - savePackageAndPackagedDrugs() called
24-07-2015 21:44:05 [main] INFO  anager.TemporaryRecordsManager - Saving package drug infos.
24-07-2015 21:44:05 [main] INFO  .packaging.NewPatientPackaging - cmdDispenseDrugsSelected() called
24-07-2015 21:44:46 [Report task] DEBUG er.exports.excel.ExcelExporter - Starting data export page 0 of 0
24-07-2015 21:44:46 [Report task] DEBUG er.exports.excel.ExcelExporter - Completed data export page 0 of 0
24-07-2015 21:44:46 [Report task] DEBUG er.exports.excel.ExcelExporter - Clearing hibernate session
24-07-2015 21:45:41 [main] WARN  dart.misc.PatientBarcodeParser - Could not match patientId using regular expression.
24-07-2015 21:46:05 [main] ERROR dart.start.PharmacyApplication - iDART CRASH: - Fatal Error caused by Exception:
java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
	at java.util.ArrayList.RangeCheck(ArrayList.java:547)
	at java.util.ArrayList.get(ArrayList.java:322)
	at model.manager.PatientManager.getLastPatientViralLoad(PatientManager.java:1125)
	at org.celllife.idart.gui.patient.AddPatient.submitForm(AddPatient.java:1312)
	at org.celllife.idart.gui.patient.AddPatient.doSave(AddPatient.java:2241)
	at org.celllife.idart.gui.patient.AddPatient.cmdUpdatePrescriptionWidgetSelected(AddPatient.java:1460)
	at org.celllife.idart.gui.patient.AddPatient.access$19(AddPatient.java:1457)
	at org.celllife.idart.gui.patient.AddPatient$18.widgetSelected(AddPatient.java:1999)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(Unknown Source)
	at org.eclipse.swt.widgets.EventTable.sendEvent(Unknown Source)
	at org.eclipse.swt.widgets.Widget.sendEvent(Unknown Source)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Unknown Source)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Unknown Source)
	at org.celllife.idart.gui.welcome.GenericWelcome.showGUI(GenericWelcome.java:133)
	at org.celllife.idart.gui.welcome.GenericWelcome.<init>(GenericWelcome.java:105)
	at org.celllife.idart.gui.welcome.PharmacyWelcome.<init>(PharmacyWelcome.java:28)
	at org.celllife.idart.start.PharmacyApplication.runIDART(PharmacyApplication.java:184)
	at org.celllife.idart.start.PharmacyApplication.launch(PharmacyApplication.java:111)
	at org.celllife.idart.start.PharmacyApplication.main(PharmacyApplication.java:93)
